/* ======================= PROYECTOS (estética igual a Notificaciones) ======================= */

/* ---- Paleta base (oscuro) ---- */
:root{
  --bg:#0f1216;             /* fondo general */
  --panel:#0f1216;          /* fondo del header/panel superior */
  --card:#12161c;           /* tarjetas/detalles */
  --card-soft:#161b22;      /* variante suave de tarjeta */
  --ink:#e6e7ea;            /* texto principal */
  --ink-dim:#c8cbd2;        /* texto atenuado */
  --muted:#8a93a3;         /* textos muted */
  --line:#20242c;           /* líneas/contornos */

  --brand:#E1261C;          /* Oracle red */
  --brand-hover:#c41f15;

  --chip-bg:#171d25;
  --chip-border:#2a3240;

  --pill-bg:#151a21;        /* para filtros/pastillas */
  --pill-on:#f44336;        /* indicador ON */

  --ok:#16a34a;
  --danger:#ef4444;

  --shadow-sm:0 6px 18px rgba(0,0,0,.35);
  --shadow-md:0 10px 24px rgba(0,0,0,.45);
  --shadow-lg:0 12px 32px rgba(0,0,0,.55);

  --radius:14px;

  --ico-size:18px;
  --ico-size-sm:14px;
  --ico-color:#9aa3af;      /* mismo tono que notificaciones */
  --ico-accent:var(--brand);
}

/* =================== Reset / Base =================== */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  font-family:system-ui, ui-sans-serif, -apple-system, Segoe UI, Roboto, Arial;
  background:var(--bg);
  color:var(--ink);
}

/* =================== Topbar (idéntica a Notificaciones) =================== */
.topbar{position:fixed;top:0;left:0;right:0;height:52px;background:#0c0f12;
  display:flex;align-items:center;justify-content:space-between;padding:0 18px;z-index:30;
  border-bottom:1px solid var(--line)}
.logo-text{
  font-family:"Panchang",system-ui; font-weight:800; font-size:32px; letter-spacing:.08em;
  color:var(--brand); text-transform:uppercase; transform:scaleX(1.15)
}
.topbar-right{display:flex;align-items:center;gap:10px}
.user-circle{width:32px;height:32px;border-radius:50%;background:var(--brand);display:flex;
  align-items:center;justify-content:center;font-weight:900}
.logout-btn{background:#232831;border:1px solid var(--line);color:var(--ink);
  padding:6px 12px;border-radius:10px;text-decoration:none}
.logout-btn:hover{background:#2a303a}

/* =================== Layout con Sidebar (igual a Notificaciones) =================== */
.app{
  display:grid;
  grid-template-columns:260px minmax(0,1fr);
  min-height:100dvh;
  padding-top:52px; /* espacio para topbar fija */
}
.aside{
  background:#0c0f12; color:#d8dbe2;
  border-right:1px solid var(--line);
  position:sticky; top:52px; height:calc(100vh - 52px);
  padding:20px 12px;
}

.menu{display:flex;flex-direction:column;gap:10px}
.mi{
  display:flex;gap:10px;align-items:center;color:#b7beca;text-decoration:none;
  border-radius:10px;padding:12px 12px; transition:.15s ease-in-out;
}
.mi:hover{background:#141922}
.mi.active{
  background:#1b202a; color:#fff;
  box-shadow: inset 0 0 0 1px rgba(225,38,28,.25);
}
.ico{width:var(--ico-size);height:var(--ico-size);color:#8e97a6;display:inline-block}
.main{padding:18px 22px}

/* =================== Panel / Encabezado de lista (matching notificaciones) =================== */
.panel{background:var(--panel);padding:8px 0 6px}
.panel-head{display:flex;align-items:center;justify-content:space-between;gap:12px}
.title{font-size:24px;font-weight:900}
.muted{color:var(--muted);font-weight:600;margin-left:8px}
.head-actions{display:flex;gap:10px;align-items:center}

/* Filtros tipo pastilla */
.pills{display:flex;gap:8px}
.pill{
  background:var(--pill-bg); color:#dbe0e8; border:1px solid var(--line);
  padding:8px 12px; border-radius:999px; font-weight:800; cursor:pointer
}
.pill.active{background:#1c222b; color:#fff; outline:1px solid #2f3745}
.pill:hover{background:#171c24}
.actions-end{display:flex;gap:8px}

/* =================== Botones =================== */
.btn{
  border-radius:10px;border:1px solid var(--line);
  background:#171c24;color:var(--ink);
  padding:8px 12px;font-weight:800;cursor:pointer
}
.btn.ghost{background:#151a21}
.btn.ghost:hover{background:#171d25}
.btn.primary{background:var(--brand); color:#fff; border-color:transparent}
.btn.primary:hover{background:var(--brand-hover)}
.btn.danger{border-color:rgba(239,68,68,.3);color:#ff6b6b;background:#151417}
.btn.danger:hover{background:#1a1618}
.btn-xs{ padding:6px 10px; border-radius:8px; font-size:12px }

/* =================== Toolbar (buscadores, selects) =================== */
.toolbar{
  display:grid; grid-template-columns: 1fr 220px auto;
  gap:12px; align-items:end; margin-top:8px
}
.field{ display:flex; flex-direction:column; gap:6px }
.field label{ font-size:12px; color:var(--muted) }
.field input,.field select{
  height:38px; border:1px solid var(--line); border-radius:10px; padding:0 10px;
  background:#12161c; color:var(--ink)
}

/* =================== Tabla de proyectos =================== */
.table-wrap{ border:1px solid var(--line); border-radius:14px; overflow:hidden; background:var(--card) }
.table{ width:100%; border-collapse:separate; border-spacing:0 }
.table thead th{
  position:sticky; top:0; z-index:1;
  background:#0c0f12; color:#fff;
  text-align:left; font-weight:800; padding:10px 12px;
  border-bottom:1px solid var(--line)
}
.table tbody td{
  padding:10px 12px; border-bottom:1px solid var(--line);
  color:var(--ink);
}
.table tbody tr:hover{ background:#151922 }
.row-alt{ background:#12161a }
.table tbody tr.row-selected{
  background: rgba(225,38,28,.10) !important;
  outline: 1px solid rgba(225,38,28,.25);
}

/* =================== Chips (estilo pills) =================== */
.chips{ display:flex; gap:8px; flex-wrap:wrap }
.chip{
  background:var(--chip-bg); color:#dbe0e8; border:1px solid var(--chip-border);
  padding:6px 10px; border-radius:999px; font-weight:800; cursor:pointer; font-size:12px
}
.chip.ghost:hover{background:#1b212a}
.chip.primary{background:var(--brand); color:#fff; border-color:transparent}
.chip.primary:hover{background:var(--brand-hover)}
.chip.danger{color:#ff8888;border-color:rgba(239,68,68,.35);background:#1a1214}
.chip.danger:hover{background:#231316}

/* ==== Estados de proyectos (chips estado) ==== */

/* PENDIENTE */
.state-pend{
  background: rgba(225,38,28,.18); /* rojo suave */
  color: var(--brand);
  border: 1px solid rgba(225,38,28,.35);
}

/* EN CURSO */
.state-run{
  background: rgba(255,185,48,.20); /* amarillo suave */
  color: #f8d170;
  border: 1px solid rgba(255,185,48,.35);
}

/* FINALIZADO */
.state-done{
  background: rgba(17,192,105,.22); /* verde suave */
  color: #6bf0a1;
  border: 1px solid rgba(17,192,105,.35);
}

/* =================== Cards (paneles/resumenes) =================== */
.card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:18px;
  padding:18px;
  box-shadow:var(--shadow-sm);
  margin-bottom:16px;
}
.card-soft{
  background:linear-gradient(180deg,#12161c 0%,#0f1216 100%);
  border:1px solid var(--line);
  border-radius:22px;
  box-shadow:var(--shadow-md);
}

/* =================== Progreso =================== */
.progress{
  width:100%; height:10px; background:#1b1f26; border-radius:99px; overflow:hidden
}
.progress > span{
  display:block; height:100%; background:var(--brand)
}

/* =================== Grid: lista + detalle =================== */
.grid{
  display:grid; grid-template-columns: 1fr 360px; gap:16px;
}
@media (max-width: 980px){
  .grid{ grid-template-columns: 1fr }
}

/* =================== Detalle (panel derecho) =================== */
.detail{ display:flex; flex-direction:column; gap:8px }
.detail-item{ display:grid; grid-template-columns:140px 1fr; gap:8px; align-items:center }
.detail .label{ color:var(--ink-dim); font-weight:700 }
.sep{ border:0; border-top:1px solid var(--line); margin:10px 0 }

/* =================== Paginador =================== */
.pager{ display:flex; align-items:center; gap:10px; justify-content:flex-end; margin-top:10px }

/* =================== Toast (coincidente) =================== */
.toast{
  position:fixed;right:18px;bottom:18px;color:#fff;padding:10px 14px;border-radius:10px;
  opacity:.97;display:none;font-weight:800
}
.toast.show{display:block}
.toast.ok{background:var(--ok)}
.toast.err{background:var(--danger)}

/* =================== Iconos / helpers =================== */
.ico-sm{ width:var(--ico-size-sm); height:var(--ico-size-sm); color:var(--ico-color); display:inline-block; }
.icon-inline{ display:inline-flex; vertical-align:-2px; margin-right:.35rem; }
.ico-muted{ color:#9aa3af; }
.ico-accent{ color:var(--ico-accent); }
.sr-only{
  position:absolute; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
}
.with-icon{ display:inline-flex; align-items:center; gap:.5rem }

/* =================== Botón borrar (coincide con tu variante) =================== */
.btn-danger {
  position: relative;
  display: inline-flex; align-items: center; gap: 8px;
  padding: 8px 12px;
  border-radius: 12px;
  border: 1px solid #b42318;
  background: var(--brand);
  color: #fff;
  font-weight: 800; font-size: 12px; letter-spacing: .2px;
  cursor: pointer;
  transition: transform .08s ease, box-shadow .2s ease, border-color .2s ease, background .15s ease;
  box-shadow: 0 4px 10px rgba(180,35,24,.28);
  user-select: none;
}
.btn-danger:hover {
  border-color: #a21e16; background: var(--brand-hover);
  box-shadow: 0 6px 16px rgba(180,35,24,.35);
  transform: translateY(-1px);
}
.btn-danger:active {
  transform: translateY(0);
  box-shadow: 0 3px 8px rgba(180,35,24,.25);
}
.btn-danger .ico { width:14px; height:14px; display:inline-block; }
.btn-danger .label { padding:0; border-radius:0; background:transparent; border:0; color:inherit; }
.btn-danger.btn-xs { padding:6px 10px; border-radius:10px; font-size:11px; }
.btn-danger:focus { outline:3px solid rgba(225,38,28,.25); outline-offset:2px; }
@media (max-width: 640px) { .btn-danger .label { display:none; } }

/* =================== Estados de fila / hover =================== */
.table tbody tr:hover .mi .ico{ color:#b3bac6 }

/* =================== Utilidades extra =================== */
.row-sb{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:10px }
.small{font-size:12px;color:var(--muted);margin-top:2px}

/* ====== Confirmación (modal borrar) ====== */
.confirm-overlay{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.45);
  backdrop-filter: blur(3px);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 2000; /* MÁS ALTO QUE TODO */
}

.confirm-box{
  background: #0f1115;
  border: 1px solid var(--line);
  border-radius: 14px;
  padding: 22px 26px;
  width: 360px;
  max-width: 90%;
  box-shadow: var(--shadow-lg);
  animation: pop .18s ease-out;
}

.confirm-box h3{
  margin-bottom: 12px;
  font-size: 18px;
  font-weight: 900;
  color: var(--ink);
}

.confirm-box p{
  font-size: 14px;
  color: var(--muted);
  margin-bottom: 16px;
}

.confirm-buttons{
  display:flex; gap:10px; justify-content:flex-end;
}
.confirm-btn{
  padding: 8px 14px;
  border-radius: 10px;
  cursor:pointer;
  border:1px solid var(--line);
  background:#151a21;
  color:var(--ink);
  font-weight:800;
}
.confirm-btn:hover{ background:#1b2029 }

.confirm-yes{
  background:var(--brand); 
  border-color:transparent; 
  color:#fff;
}
.confirm-yes:hover{ background:var(--brand-hover) }

@keyframes pop {
  from { transform: scale(.92); opacity:0; }
  to   { transform: scale(1);   opacity:1; }
}

/* ==== Estilo para los íconos del calendario ==== */
input[type="date"]::-webkit-calendar-picker-indicator {
  filter: invert(62%) sepia(58%) saturate(4000%) hue-rotate(-10deg) brightness(92%);
  cursor: pointer;
}

/* Si quieres que el icono se ponga ROJO (Oracle) al hacer hover */
input[type="date"]:hover::-webkit-calendar-picker-indicator {
  filter: invert(38%) sepia(99%) saturate(4026%) hue-rotate(-1deg) brightness(94%) contrast(106%);
}

/* Si quieres que el fondo del input encaje mejor */
input[type="date"] {
  color-scheme: dark; /* asegura que el calendario emergente también sea oscuro */
}

/* ===== Botón + Nuevo (toolbar) ===== */
#btn-nuevo {
  background: #b42318; 
  border-color: transparent;
  color: #fff;
  font-weight: 800;
}
#btn-nuevo:hover {
  background: #dc1b0d; /* naranja más oscuro */
}

/* ===== Botón Guardar (modal crear proyecto) ===== */
#btn-guardar {
  background: #b42318; 
  border-color: transparent;
  color: #fff;
  font-weight: 800;
}
#btn-guardar:hover {
  background: #dc1b0d; /* naranja más oscuro */
}


    /* === TU ESTILO ORIGINAL (light) — se mantiene arriba === */
    .modal-overlay { position: fixed; inset: 0; background: rgba(0, 0, 0, 0.4); display: none; justify-content: center; align-items: center; z-index: 999; }
    .modal { background: #fff; border-radius: 18px; padding: 20px 26px; width: 480px; max-width: 95%; box-shadow: 0 8px 32px rgba(0,0,0,.25); animation: fadeIn .2s ease-in-out; }
    @keyframes fadeIn { from{opacity:0; transform: translateY(-10px);} to{opacity:1; transform: translateY(0);} }
    .modal-buttons { display:flex; gap:10px; margin-top:14px; justify-content:flex-end }
    .chip.active { background: var(--brand); color:#fff; font-weight:700; box-shadow: 0 2px 8px rgba(225,38,28,.25); }

    .tasks-box { margin-top:14px; border:1px solid var(--line); border-radius:12px; padding:12px; background:#fafbfc; }
    .tasks-box h3 { margin:4px 0 10px 0; font-size:15px; display:flex; align-items:center; justify-content:space-between; gap:8px; }
    .task-item { border:1px solid var(--line); background:#fff; border-radius:10px; padding:8px 10px; margin:6px 0; display:flex; justify-content:space-between; gap:10px; }
    .task-title { font-weight:700; }
    .task-meta { font-size:12px; color:#64748b; }
    .badge { font-size:12px; border:1px solid var(--line); padding:2px 8px; border-radius:999px; background:#fff; }
    .badge.status.todo{ background:#fff4f3 }
    .badge.status.doing{ background:#fff8e6 }
    .badge.status.done{ background:#e9fff0 }

    .detail-head { display:flex; align-items:center; justify-content:space-between; gap:12px; padding:10px 12px; border-radius:12px; background: linear-gradient(180deg,#ffffff 0%,#fafbfc 100%); border:1px solid var(--line); margin-bottom:10px; }
    .detail-head .title { font-weight:900; font-size:16px; }
    .detail-actions { display:flex; gap:8px; align-items:center }

    .btn-ghost { display:inline-flex; align-items:center; gap:8px; padding:9px 12px; border-radius:12px; background:#fff; color:#000; border:1px solid var(--line-2); font-weight:800; font-size:13px; text-decoration:none; cursor:pointer; box-shadow: var(--shadow-sm); transition: transform .08s ease, box-shadow .2s ease, border-color .2s ease, background .15s ease; }
    .btn-ghost:hover { transform: translateY(-1px); box-shadow: var(--shadow-md); border-color:#d9dde3; }
    .btn-ghost[disabled] { opacity:.5; pointer-events:none }
    .btn-ghost .ico { width:16px; height:16px; display:inline-block; }

    .table tbody tr { cursor: pointer; }

    /* === Validación de formulario === */
    .field.invalid input, .field.invalid select, .field.invalid textarea { border-color:#E1261C; background:#fff6f5; }
    .field .msg { display:none; font-size:12px; color:#E1261C; margin-top:6px; }
    .field.invalid .msg { display:block; }

    /* ===== Autocomplete ===== */
    .search-wrap { position:relative; }
    .ac-wrap { position:absolute; left:0; right:0; top:calc(100% + 6px); background:#fff; border:1px solid var(--line); border-radius:12px; box-shadow: var(--shadow-md, 0 6px 24px rgba(16,24,40,.08)); display:none; z-index: 500; }
    .ac-wrap.open { display:block; }
    .ac-head { display:flex; align-items:center; justify-content:space-between; padding:8px 10px; border-bottom:1px solid var(--line); font-size:12px; color:#6b7280; }
    .ac-list { max-height:260px; overflow:auto; padding:4px; margin:0; list-style:none; }
    .ac-item { display:flex; align-items:flex-start; justify-content:space-between; gap:8px; padding:8px 10px; border-radius:10px; cursor:pointer; }
    .ac-item:hover { background:#f8fafc; }
    .ac-item.active { outline:2px solid #e5e7eb; background:#f1f5f9; }
    .ac-title { font-weight:800; margin-bottom:2px; }
    .ac-sub  { font-size:12px; color:#6b7280; }
    .ac-chip { font-size:12px; padding:2px 8px; border-radius:999px; border:1px solid var(--line); background:#fff; white-space:nowrap; }

    /* === OVERRIDES OSCUROS para uniformar Detalle / Modal / Tareas + Fila seleccionada === */
    .detail-head{
      background: linear-gradient(180deg, rgba(225,38,28,.06) 0%, rgba(225,38,28,.03) 100%) !important;
      border:1px solid var(--line);
      border-radius:14px;
      padding:12px 14px;
      box-shadow: var(--shadow-sm);
      margin-bottom:12px;
    }
    .detail-head .title{ font-weight:900; font-size:16px; letter-spacing:.2px; }

    .btn-ghost{
      background:#0f1115 !important; 
      color:var(--ink) !important; 
      border:1px solid var(--line-2) !important;
    }
    .btn-ghost:hover{ border-color:#3a3f47 !important; }

    .detail{
      border:1px solid var(--line);
      border-radius:14px;
      padding:12px;
      background: var(--card);
      box-shadow: var(--shadow-sm);
    }
    .detail-item{ display:grid; grid-template-columns:140px 1fr; gap:8px; align-items:center; padding:6px 0 }
    .detail .label{ color:var(--ink-muted); font-weight:800 }
    .detail .value{ color:var(--ink) }
    .detail .progress{ background:#1b1f26 }
    .detail .chip{ background:var(--chip); border:1px solid var(--line); font-weight:800 }

    .tasks-box{
      margin-top:14px;
      border:1px solid var(--line) !important;
      border-radius:12px !important;
      padding:12px !important;
      background: linear-gradient(180deg, #0f1115 0%, #0c0e12 100%) !important;
      box-shadow: var(--shadow-sm) !important;
    }
    .task-item{
      border:1px solid var(--line) !important;
      background:#0f1115 !important;
      color:var(--ink);
    }
    .task-title{ font-weight:800; }
    .task-meta{ font-size:12px; color:var(--muted) }
    .badge{ font-size:12px; border:1px solid var(--line); padding:2px 8px; border-radius:999px; background:#0f1115; color:var(--ink) }
    .badge.status.todo{ background:rgba(232, 16, 5, 0.486) }
    .badge.status.doing{ background:rgba(233, 168, 4, 0.666) }
    .badge.status.done{ background:rgba(17, 192, 105, 0.549) }

    .modal-overlay{ backdrop-filter: blur(2px); }
    .modal{
      background:#0f1115 !important; color:var(--ink) !important;
      border:1px solid var(--line);
      border-radius:18px;
      box-shadow: var(--shadow-md);
    }
    .modal h2{ font-size:18px; font-weight:900; margin:0 0 8px 0 }
    .modal .field{ margin-top:8px }
    .modal .field label{ color:var(--muted); font-weight:700 }
    .modal .field input,
    .modal .field select,
    .modal .field textarea{
      background:#0f1115; color:var(--ink);
      border:1px solid var(--line-2);
      border-radius:10px; height:38px; padding:0 10px;
    }
    .modal .msg{ color:#ffb4a8 }
    .modal-buttons{ display:flex; gap:10px; margin-top:14px; justify-content:flex-end }
    .modal .btn.btn-outline{ background:#0f1115; color:var(--ink); border-color:#3a3f47 }
    .modal .btn.btn-outline:hover{ box-shadow: var(--shadow-sm) }

    /* Fila seleccionada naranja semitransparente */
    .table tbody tr{ transition: background .15s ease, box-shadow .15s ease }
    .table tbody tr:hover{ background:#0f1217 }
    .table tbody tr.row-selected{
      background: rgba(225,38,28,.12) !important;
      box-shadow: inset 2px 0 0 0 var(--brand);
    }
    .table tbody tr.row-selected td{ color: var(--ink); }
 