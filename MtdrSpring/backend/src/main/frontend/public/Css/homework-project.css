:root{
  /* Dark palette (igual a Notificaciones – Opción A) */
  --bg:#0f1216;
  --panel:#0f1216;           /* fondo del contenedor top */
  --card:#12161c;
  --card-soft:#161b22;
  --ink:#e6e7ea;
  --ink-dim:#c8cbd2;
  --muted:#8a93a3;
  --line:#20242c;
  --brand:#E1261C;
  --brand-hover:#c41f15;

  --pill-bg:#151a21;
  --pill-on:#f44336;

  --chip-bg:#171d25;
  --chip-border:#2a3240;

  --ok:#16a34a;
  --danger:#ef4444;

  --shadow-sm:0 6px 18px rgba(0,0,0,.35);
  --shadow-md:0 10px 24px rgba(0,0,0,.45);
  --shadow-lg:0 12px 32px rgba(0,0,0,.55);

  --radius:14px;

  --ico-size:18px;
  --ico-size-sm:14px;
  --ico-color:#9aa3af;
  --ico-accent:var(--brand);
}

/* Reset */
*{box-sizing:border-box}
html,body{margin:0;padding:0;height:100%}
body{
  font-family:system-ui, ui-sans-serif, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", sans-serif;
  background:var(--bg); color:var(--ink)
}

/* Topbar */
.topbar{position:fixed;top:0;left:0;right:0;height:52px;background:#0c0f12;
  display:flex;align-items:center;justify-content:space-between;padding:0 18px;z-index:30;
  border-bottom:1px solid var(--line)}
.logo-text{
  font-family:"Panchang",system-ui; font-weight:800; font-size:32px; letter-spacing:.08em;
  color:var(--brand); text-transform:uppercase; transform:scaleX(1.15)
}
.topbar-right{display:flex;align-items:center;gap:10px}
.user-circle{width:32px;height:32px;border-radius:50%;background:var(--brand);display:flex;
  align-items:center;justify-content:center;font-weight:900}
.logout-btn{background:#232831;border:1px solid var(--line);color:var(--ink);
  padding:6px 12px;border-radius:10px;text-decoration:none}
.logout-btn:hover{background:#2a303a}

/* Layout */
.app{
  display:grid;
  grid-template-columns:260px minmax(0,1fr);
  min-height:100dvh; padding-top:52px;
}
.aside{
  background:#0c0f12; color:#d8dbe2; border-right:1px solid var(--line);
  position:sticky; top:52px; height:calc(100vh - 52px); padding:20px 12px;
}

.menu{display:flex;flex-direction:column;gap:10px}
.mi{display:flex;gap:10px;align-items:center;color:#b7beca;text-decoration:none;
  border-radius:10px;padding:12px 12px}
.mi:hover{background:#141922}
.mi.active{background:#1b202a; color:#fff; box-shadow: inset 0 0 0 1px rgba(225,38,28,.25);}
.ico{width:var(--ico-size);height:var(--ico-size);color:#8e97a6;display:inline-block}

.main{padding:18px 22px}

/* =========================
   Utilidades tipográficas
   ========================= */
.h4{ font-weight:900; font-size:clamp(20px,3vw,28px); margin:0 0 6px }
.h6{ font-weight:900; font-size:clamp(16px,2.4vw,20px); margin:0 0 8px }
.muted{ color:var(--muted) }
.small{ font-size:13px }
.tiny{ font-size:12px }

/* =========================
   Botones base (dark)
   ========================= */
.btn{
  appearance:none; display:inline-flex; align-items:center; justify-content:center; gap:8px;
  padding:10px 14px; border-radius:12px; font-weight:900; cursor:pointer;
  background:#171c24; color:#e6e7ea; border:1px solid var(--line); transition:.15s
}
.btn:hover{ background:#1b212a }
.btn-primary{ background:var(--brand); color:#fff; border:none; box-shadow:0 8px 20px rgba(225,38,28,.25) }
.btn-primary:hover{ background:var(--brand-hover) }
.btn-outline{ background:#151a21; color:#e6e7ea; border:1px solid var(--chip-border) }
.btn-outline:hover{ background:#171d25 }
.btn-ghost{ background:#151a21; color:#dbe0e8; border:1px solid var(--chip-border) }
.btn-ghost:hover{ background:#171d25 }
.btn-xs{ padding:6px 10px; border-radius:10px; font-size:12px; background:var(--brand); color:#fff; border:none }
.btn-xs:hover{ background:var(--brand-hover) }

/* Iconos */
.ico{ width:var(--ico-size); height:var(--ico-size); color:var(--ico-color); display:inline-block }
.ico-sm{ width:var(--ico-size-sm); height:var(--ico-size-sm); color:var(--ico-color); display:inline-block }
.icon-inline{ display:inline-flex; vertical-align:-2px; margin-right:.35rem }
.ico-muted{ color:#9aa3af }
.ico-accent{ color:var(--ico-accent) }
.logout-btn .ico, .logout-btn .ico-sm{ color:#fff; opacity:.9 }
#svg-sprite{ position:absolute; width:0; height:0; overflow:hidden }

/* Helpers */
.sr-only{
  position:absolute; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
}
.with-icon{ display:inline-flex; align-items:center; gap:.5rem }

/* =========================
   Toolbar & Fields (dark)
   ========================= */
.toolbar{
  display:grid; grid-template-columns: 1fr 220px auto; gap:12px; align-items:end; margin-top:8px
}
.field{ display:flex; flex-direction:column; gap:6px }
.field label{ font-size:12px; color:var(--muted) }
.field input,.field select{
  height:38px; border:1px solid var(--chip-border); border-radius:10px; padding:0 10px;
  background:#12161c; color:var(--ink)
}
.field input::placeholder, .field textarea::placeholder{ color:#8e97a6 }

/* =========================
   Cards / Paneles
   ========================= */
.card{
  background:var(--card); border:1px solid var(--line);
  border-radius:18px; padding:18px; box-shadow:none; margin-bottom:16px;
}
.card-soft{
  background:var(--card-soft); border:1px solid var(--line);
  border-radius:22px; box-shadow:var(--shadow-sm)
}

/* Panel cabecera (si lo usas) */
.panel{ background:var(--panel); padding:8px 0 6px }
.panel-head{ display:flex; align-items:center; justify-content:space-between; gap:12px }
.title{ font-size:24px; font-weight:900 }
.head-actions{ display:flex; gap:10px; align-items:center }
.pills{ display:flex; gap:8px }
.pill{
  background:var(--pill-bg); color:#dbe0e8; border:1px solid var(--line);
  padding:8px 12px; border-radius:999px; font-weight:800; cursor:pointer
}
.pill.active{ background:#1c222b; color:#fff; outline:1px solid #2f3745 }
.pill:hover{ background:#171c24 }

/* =========================
   Grid principal: lista + detalle
   ========================= */
.grid{ display:grid; grid-template-columns: 1fr 360px; gap:16px }
@media (max-width:980px){ .grid{ grid-template-columns:1fr } }

/* Chips */
.chips{ display:flex; gap:8px; flex-wrap:wrap }
.chip{
  background:var(--chip-bg); color:#dbe0e8; border:1px solid var(--chip-border);
  padding:6px 10px; border-radius:999px; font-weight:800; cursor:pointer; font-size:12px
}
.chip.ghost:hover{ background:#1b212a }
.chip.primary{ background:var(--brand); color:#fff; border-color:transparent }
.chip.primary:hover{ background:var(--brand-hover) }
.chip-red{ background:#1a1214; color:#ff8888; border:1px solid rgba(239,68,68,.35) }
.state-done{ background:#0f1a14; color:#7ee2a8 }
.state-run{ background:#101826; color:#8fb7ff }
.state-pend{ background:#1b1306; color:#ffbb66 }

/* =========================
   Tabla (header oscuro)
   ========================= */
.table-wrap{ border:1px solid var(--line); border-radius:14px; overflow:hidden }
.table{ width:100%; border-collapse:separate; border-spacing:0 }
.table thead th{
  position:sticky; top:0; z-index:1;
  background:#0c0f12; color:#fff; text-align:left; font-weight:800;
  padding:10px 12px; border-bottom:1px solid var(--line)
}
.table tbody td{ padding:10px 12px; border-bottom:1px solid var(--line); color:var(--ink) }
.table tbody tr:hover{ background:#151a21 }
.row-alt{ background:#12161c }

/* =========================
   Progreso radial y lineal
   ========================= */
.progress{
  width:100%; height:8px; background:#1a2030; border-radius:999px; overflow:hidden; border:1px solid var(--line)
}
.progress > span{
  display:block; height:100%; background:var(--brand); width:0%; transition:width .45s ease
}

.radial-wrap{
  display:flex; align-items:center; justify-content:center;
  background:var(--card); border:1px solid var(--line);
  border-radius:18px; padding:16px;
}
.radial-progress{
  --p:0; width:150px; height:150px; border-radius:50%;
  background: conic-gradient(var(--brand) calc(var(--p)*1%), #283041 0);
  display:grid; place-items:center; color:#fff; position:relative;
  box-shadow: inset 0 0 0 1px #222833;
}
.radial-progress::after{
  content:""; position:absolute; inset:12px; background:var(--card);
  border-radius:50%; box-shadow: inset 0 0 0 1px var(--line);
}
.radial-progress > span{ position:relative; font-weight:900; font-size:22px }

/* =========================
   HOMEWORK-PROJECT — layout
   ========================= */
.container{ max-width:1240px; margin:0 auto 32px; padding:0 22px }
.container-wide{ max-width:1240px }
.hero-card{
  padding:26px 24px; border-radius:24px; border:1px solid var(--line);
  background:var(--card-soft); box-shadow:var(--shadow-md)
}

/* Encabezado */
.project-title{
  font-size:clamp(26px,3.2vw,40px); line-height:1.15;
  margin:0 0 8px; font-weight:900; color:var(--ink);
}
.meta-row{ display:flex; flex-wrap:wrap; align-items:center; gap:10px 16px }
.project-desc{
  color:var(--ink-dim); font-size:clamp(14px,1.8vw,16px);
  background:transparent; border:1px solid var(--line);
  padding:6px 10px; border-radius:12px;
}
.team-pill{
  display:inline-flex; align-items:center; gap:6px;
  background:#151a21; border:1px solid var(--chip-border);
  border-radius:999px; padding:6px 10px; font-size:13px; font-weight:800; color:#e6e7ea;
}

/* Estado y avance */
.status-advance{ margin-top:18px; display:grid; gap:14px }
.status-chip-wrap{ display:flex; justify-content:flex-end }

/* Board de progreso */
.progress-layout{ display:grid; gap:16px; grid-template-columns:210px 1fr; align-items:center }
@media (max-width:980px){ .progress-layout{ grid-template-columns:1fr } }
.board{ display:grid; gap:12px; grid-template-columns:repeat(2,minmax(0,1fr)) }
@media (max-width:720px){ .board{ grid-template-columns:1fr } }

.stat-card{
  background:var(--card); border:1px solid var(--line);
  border-radius:16px; padding:12px 14px;
  display:flex; flex-direction:column; gap:8px;
}
.stat-card .label{ font-size:12px; color:var(--muted); font-weight:700 }
.stat-card .value{ font-weight:900; color:var(--ink) }

/* =========================
   Tareas + Integrantes (2 col)
   ========================= */
.two-col{
  display:grid; grid-template-columns:1.4fr .8fr; gap:16px; margin-top:16px
}
@media (max-width:980px){ .two-col{ grid-template-columns:1fr } }

/* Tareas */
.tasks-card{
  border-radius:24px; border:1px solid var(--line);
  background:var(--card); box-shadow:none;
}
.tasks-head{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 16px; border-bottom:1px solid var(--line)
}
.tasks-head h2{ margin:0; font-size:18px; font-weight:900; color:var(--ink) }
.tasks-list{ padding:6px 16px 16px 16px }

.task-item{
  border:1px solid var(--line); border-radius:14px; background:var(--card);
  padding:10px 12px; margin:10px 0;
  display:grid; grid-template-columns:auto 1fr auto; gap:10px; align-items:center;
}
.task-title{ font-weight:900; color:var(--ink) }
.task-meta{ font-size:12px; color:#8e97a6 }
.task-actions{ display:flex; gap:6px; align-items:center }

.badge{ font-size:12px; border:1px solid var(--chip-border); padding:2px 8px; border-radius:999px; background:#171d25; color:#dbe0e8 }
.badge.status.todo{ background:#1a1214 }
.badge.status.done{ background:#0f1a14 }

/* Descripción desplegable */
.task-desc{
  grid-column:2 / -1; margin-top:-4px; margin-bottom:2px;
  padding:10px; border-radius:10px;
  background:#10151d; color:#cfd3db;
  border:1px dashed #2a3240; display:none;
}
.task-desc.show{ display:block; }

/* Botón sólido “Crear tarea” */
.btn-fab{
  appearance:none; border:none; cursor:pointer;
  display:inline-flex; align-items:center; gap:8px;
  background:var(--brand); color:#fff; font-weight:900;
  padding:10px 14px; border-radius:999px;
  box-shadow:0 8px 20px rgba(225,38,28,.25);
  transition: transform .08s ease, box-shadow .2s ease, background .12s ease;
}
.btn-fab:hover{ transform:translateY(-1px); box-shadow:0 12px 28px rgba(225,38,28,.33); background:var(--brand-hover) }
.btn-fab .ico{ width:18px; height:18px }

/* Integrantes */
.members-card{
  border-radius:24px; border:1px solid var(--line);
  background:var(--card); box-shadow:none;
}
.members-head{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 16px; border-bottom:1px solid var(--line)
}
.members-list{ padding:10px 12px 14px; display:flex; flex-direction:column; gap:10px }
.member-item{
  display:flex; align-items:center; justify-content:space-between;
  gap:10px; padding:10px 12px;
  background:var(--card); border:1px solid var(--line);
  border-radius:14px;
}
.member-left{ display:flex; align-items:center; gap:10px }
.member-avatar{
  width:34px; height:34px; border-radius:50%;
  display:grid; place-items:center; font-weight:900;
  background:#151a21; color:#e6e7ea; border:1px solid var(--chip-border)
}
.member-name{ font-weight:800; color:var(--ink) }

.role-badge{
  font-size:12px; font-weight:800;
  padding:4px 8px; border-radius:999px;
  border:1px solid var(--chip-border); background:#171d25; color:#dbe0e8;
}
.role-badge.admin{ background:#1a1214 }
.role-badge.super{ background:#1b1306 }
.role-badge.user { background:#101826 }

/* =========================
   Botón borrar (peligro)
   ========================= */
.btn-danger{
  position:relative; display:inline-flex; align-items:center; gap:8px;
  padding:8px 12px; border-radius:12px;
  border:1px solid rgba(239,68,68,.35);
  background:#1a1214; color:#ff8888;
  font-weight:800; font-size:12px; letter-spacing:.2px; cursor:pointer;
  transition: transform .08s ease, box-shadow .2s ease, border-color .2s ease, background .15s ease;
  box-shadow:0 4px 10px rgba(180,35,24,.18); user-select:none;
}
.btn-danger:hover{
  border-color:#a21e16; background:#231316;
  box-shadow:0 6px 16px rgba(180,35,24,.25); transform:translateY(-1px);
}
.btn-danger:active{ transform:translateY(0); box-shadow:0 3px 8px rgba(180,35,24,.2) }
.btn-danger .ico{ width:14px; height:14px; display:inline-block }
.btn-danger .label{ padding:0; border-radius:0; background:transparent; border:0; color:inherit }
.btn-danger.btn-xs{ padding:6px 10px; border-radius:10px; font-size:11px }
.btn-danger:focus{ outline:3px solid rgba(225,38,28,.25); outline-offset:2px }

/* =========================
   Confirmación (modal chica)
   ========================= */
.confirm-overlay{
  position:fixed; inset:0; background:rgba(12,15,18,.65);
  display:none; align-items:center; justify-content:center; z-index:2000;
  animation:fadeIn .2s ease-in-out;
}
.confirm-overlay.open{ display:flex }
@keyframes fadeIn{ from{opacity:0} to{opacity:1} }

.confirm-box{
  background:var(--card); border:1px solid var(--line);
  border-radius:16px; box-shadow:0 10px 40px rgba(0,0,0,.6);
  width:380px; max-width:90%; padding:22px 24px; text-align:center;
  animation:fadeInUp .25s ease;
}
@keyframes fadeInUp{ from{ opacity:0; transform:translateY(10px) } to{ opacity:1; transform:translateY(0) } }
.confirm-box h3{ margin:0 0 8px; font-weight:800; font-size:18px; color:var(--ink) }
.confirm-box p{ margin:0 0 16px; font-size:14px; color:var(--muted) }
.confirm-buttons{ display:flex; justify-content:flex-end; gap:10px }
.confirm-btn{ border-radius:10px; padding:8px 14px; font-weight:700; cursor:pointer; font-size:13px; transition:.15s }
.confirm-cancel{ border:1px solid var(--chip-border); background:#151a21; color:#dbe0e8 }
.confirm-cancel:hover{ background:#171d25 }
.confirm-yes{ background:var(--brand); color:#fff; border:none; box-shadow:0 3px 10px rgba(225,38,28,.25) }
.confirm-yes:hover{ background:var(--brand-hover) }

/* =========================
   Detalle / Layouts
   ========================= */
.detail{ display:flex; flex-direction:column; gap:8px }
.detail-item{ display:grid; grid-template-columns:140px 1fr; gap:8px; align-items:center }
.detail .label{ color:#9aa3af; font-weight:700 }
.sep{ border:0; border-top:1px solid var(--line); margin:10px 0 }

/* Filas helper */
.row-sb{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:10px }

/* Paginador */
.pager{ display:flex; align-items:center; gap:10px; justify-content:flex-end; margin-top:10px }

/* =========================
   Modal de edición (genérico)
   ========================= */
.edit-modal-overlay{
  position:fixed; inset:0; display:none;
  align-items:center; justify-content:center;
  background:rgba(17,24,39,.45); z-index:4000;
}
.edit-modal-overlay.open,
.edit-modal-overlay[aria-hidden="false"]{ display:flex }

.edit-modal{
  width:min(820px,94vw); max-height:88vh; background:var(--card);
  border:1px solid var(--line); border-radius:20px;
  box-shadow:0 22px 70px rgba(0,0,0,.6);
  overflow:hidden; display:flex; flex-direction:column;
}
.edit-modal-header{
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 14px; border-bottom:1px solid var(--line); background:var(--card);
}
.edit-modal-body{ padding:14px; overflow:auto; background:var(--card-soft) }
.edit-modal-footer{
  padding:12px 14px; border-top:1px solid var(--line); background:var(--card);
}
.icon-btn{
  appearance:none; border:1px solid var(--chip-border);
  background:#151a21; color:#dbe0e8; border-radius:10px;
  padding:6px 10px; cursor:pointer;
}
.icon-btn:hover{ background:#171d25 }

.grid2{ display:grid; gap:12px; grid-template-columns:1fr 1fr }
.field-full{ grid-column:1 / -1 }
@media (max-width:720px){ .grid2{ grid-template-columns:1fr } }

/* =========================
   Inputs / selects / textarea
   ========================= */
.field label{ font-size:12px; color:var(--muted) }
.field input, .field select, .field textarea{
  border:1px solid var(--chip-border); border-radius:12px;
  padding:9px 12px; background:#12161c; color:#e6e7ea; outline:none;
  transition:border-color .12s ease, box-shadow .12s ease;
}
.field input:focus, .field select:focus, .field textarea:focus{
  border-color:#3a4456; box-shadow:0 0 0 4px rgba(225,38,28,.10)
}

/* =========================
   Toasts
   ========================= */
.toast-stack{
  position:fixed; top:70px; right:18px;
  display:flex; flex-direction:column; gap:10px; z-index:3000;
}
.toast{
  display:flex; gap:12px; align-items:flex-start;
  min-width:280px; max-width:380px; background:#151a21;
  border:1px solid var(--chip-border); border-radius:14px; padding:12px 14px;
  box-shadow:var(--shadow-md); opacity:0; transform:translateY(-6px);
  transition:opacity .2s ease, transform .2s ease; color:#e6e7ea;
}
.toast.show{ opacity:1; transform:translateY(0) }
.toast .toast-progress{
  height:3px; background:var(--brand);
  width:100%; border-radius:999px; margin-top:6px;
  animation: toast-progress linear forwards;
}
@keyframes toast-progress{ from{ width:100% } to{ width:0% } }

/* =========================
   Ajustes de compatibilidad
   ========================= */
/* Mantener tamaños/colores base de iconos donde se reusen */
.aside .menu .mi .ico{ width:18px; height:18px; display:block; flex:0 0 18px }
.chat-input button .ico, .chat-input button .ico-sm{ color:#fff }
.page-actions{ display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:14px }
.page-actions .right-actions{ display:flex; gap:10px; align-items:center }

/* Foco accesible en botones principales */
.btn:focus,
.icon-btn:focus,
.btn-fab:focus{
  outline:3px solid rgba(225,38,28,.25);
  outline-offset:2px;
}

