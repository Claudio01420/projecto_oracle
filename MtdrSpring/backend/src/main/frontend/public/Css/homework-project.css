/* ====== Layout base de esta página ====== */
.container{
  max-width: 1240px;
  margin: 80px auto 40px;
  padding: 0 22px;
}
.container-wide { max-width: 1240px; }

/* Tarjeta grande y estética */
.hero-card{
  padding: 26px 24px;
  border-radius: 24px;
  box-shadow: var(--shadow-md);
}

/* Encabezado grande del proyecto */
.project-title{
  font-size: clamp(26px, 3.2vw, 40px);
  line-height: 1.15;
  margin: 0 0 8px 0;
  font-weight: 900;
  color: var(--dark);
}

/* Descripción + Equipo en línea debajo del título */
.meta-row{
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 10px 16px;
}
.project-desc{
  color: var(--muted-2);
  font-size: clamp(14px, 1.8vw, 16px);
}
.team-pill{
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: var(--chip);
  border: 1px solid var(--line);
  border-radius: 999px;
  padding: 6px 10px;
  font-size: 13px;
}

/* Estado + Avance */
.status-advance{
  margin-top: 18px;
  display: grid;
  grid-template-columns: minmax(0,1fr);
  gap: 14px;
}
.status-chip-wrap{
  display: flex;
  justify-content: flex-end;
}

/* Tablero de progreso */
.progress-board{
  display: grid;
  grid-template-columns: 240px minmax(0,1fr);
  align-items: center;
  gap: 20px;
  background: #fff;
  border: 1px solid var(--line);
  border-radius: 18px;
  padding: 16px;
  box-shadow: var(--shadow-sm);
}

/* Progreso circular (naranja con animación JS) */
.radial-wrap{
  display:flex; align-items:center; justify-content:center;
  width: 180px; height: 180px;
}
.radial-wrap.big{ width: 220px; height: 220px; }
.radial-wrap.small{ width:120px; height:120px; }

.radial-progress{
  --p: 0;               /* porcentaje 0..100 (lo anima JS con requestAnimationFrame) */
  --size: 100%;
  --thickness: 14px;
  width: var(--size);
  height: var(--size);
  border-radius: 50%;
  background:
    conic-gradient(
      from -90deg,
      #ffb347 calc(var(--p)*1%),  /* naranja base hasta el porcentaje */
      #ffe29f 0,                  /* degradado claro inmediatamente después */
      #eceff3 0                   /* gris para el restante */
    ),
    radial-gradient(#fff calc(50% - var(--thickness)), transparent calc(50% - var(--thickness) + 1));
  display:flex; align-items:center; justify-content:center;
  box-shadow: 0 10px 28px rgba(0,0,0,.08);
}
.radial-progress span{
  font-weight:900; color: var(--dark);
  font-size: clamp(20px, 2.6vw, 28px);
}

/* Columna de fechas y barra */
.dates-col .date-item{
  display: grid; grid-template-columns: 100px 1fr; gap: 8px;
  margin-bottom: 8px;
}
.dates-col .label{ font-size: 12px; color: var(--muted); }
.dates-col .value{ font-weight: 700; color: var(--ink); }
.mt-10{ margin-top:10px; }

/* Barra de progreso suave */
.progress > span{ transition: width .45s ease; }

/* Acciones superiores */
.page-actions{
  display:flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
}

/* ===== Modal de edición ===== */
.edit-modal-overlay{
  position: fixed; inset: 0;
  background: rgba(0,0,0,.45);
  display: none;
  align-items: center; justify-content: center;
  z-index: 2000;
}
.edit-modal-overlay.open{ display: flex; animation: fadeIn .18s ease; }
@keyframes fadeIn { from{opacity:.6} to{opacity:1} }

.edit-modal{
  width: 760px; max-width: 96%;
  background: #fff;
  border-radius: 18px;
  box-shadow: 0 16px 50px rgba(0,0,0,.25);
  overflow: hidden;
  animation: rise .2s ease;
}
@keyframes rise { from{transform: translateY(6px); opacity:.96} to{transform: translateY(0); opacity:1} }

.edit-modal-header{
  display:flex; align-items:center; justify-content:space-between;
  padding: 14px 16px; background: #fafbfc; border-bottom: 1px solid var(--line);
}
.icon-btn{
  border: 1px solid var(--line);
  background: #fff; border-radius: 10px; padding: 6px 10px;
  cursor: pointer; font-weight: 800;
}
.icon-btn:hover{ box-shadow: var(--shadow-sm); }

.edit-modal-body{
  padding: 16px; max-height: 70vh; overflow: auto;
}
.edit-modal-footer{
  display:flex; justify-content:flex-end; gap:10px;
  padding: 12px 16px; border-top: 1px solid var(--line); background:#fff;
}

/* Grid edición */
.grid2{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
}
.field-full{ grid-column:1 / -1; }

.edit-progress{
  display:flex; align-items:center; gap:14px; margin-top:14px;
}

/* Inputs en edición */
.edit-modal .field input,
.edit-modal .field select{
  height: 44px;
  border-radius: 12px;
  border: 1px solid var(--line-2);
  padding: 0 12px;
  font-size: 14px;
}

/* ===== Toasts (éxito / error) ===== */
.toast-stack{
  position: fixed;
  top: 70px;
  right: 18px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  z-index: 3000;
}
.toast{
  display:flex; gap:12px; align-items:flex-start;
  min-width: 280px; max-width: 380px;
  background:#fff;
  border:1px solid var(--line);
  border-radius:14px;
  padding:12px 14px;
  box-shadow: var(--shadow-md);
  opacity: 0; transform: translateY(-6px);
  transition: opacity .2s ease, transform .2s ease;
}
.toast.show{ opacity: 1; transform: translateY(0); }
.toast.success{ border-color:#e6f4ea; }
.toast.error{ border-color:#ffe5e3; }
.toast-icon{ font-size:18px; line-height:1.2 }
.toast-body{ flex:1; }
.toast-title{ font-weight:800; margin-bottom:2px }
.toast-msg{ font-size:13px; color:var(--muted) }
.toast-close{
  background:#fff; border:1px solid var(--line);
  border-radius:8px; padding:4px 8px; cursor:pointer;
}
.toast-progress{
  height:4px; background:#eef0f3; border-radius:99px; overflow:hidden; margin-top:6px;
  position: relative;
}
.toast.success .toast-progress::after{
  content:""; position:absolute; inset:0;
  background: linear-gradient(90deg, #27ae60, #2ecc71);
  animation: toastbar linear forwards;
}
.toast.error .toast-progress::after{
  content:""; position:absolute; inset:0;
  background: linear-gradient(90deg, #e74c3c, #ff6b6b);
  animation: toastbar linear forwards;
}
@keyframes toastbar{
  from{ width:100%; } to{ width:0%; }
}

/* Responsive */
@media (max-width: 1140px){
  .progress-board{ grid-template-columns: 1fr; }
  .radial-wrap.big{ margin: 0 auto; }
}
@media (max-width: 720px){
  .container{ margin: 70px 0 30px; max-width: 100%; }
  .toast-stack{ right: 10px; left: 10px; }
}
